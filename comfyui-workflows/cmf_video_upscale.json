{
    "11": {
        "inputs": {
            "model_name": "umt5-xxl-enc-bf16.safetensors",
            "precision": "bf16",
            "load_device": "offload_device",
            "quantization": "disabled"
        },
        "class_type": "LoadWanVideoT5TextEncoder",
        "_meta": {
            "title": "Load T5 Encoder"
        }
    },
    "22": {
        "inputs": {
            "model": "FlashVSR/Wan2_1-T2V-1_3B_FlashVSR_fp32.safetensors",
            "base_precision": "fp16",
            "quantization": "disabled",
            "load_device": "offload_device",
            "attention_mode": "sdpa",
            "rms_norm_function": "default",
            "extra_model": [
                "113",
                0
            ]
        },
        "class_type": "WanVideoModelLoader",
        "_meta": {
            "title": "Load FlashVSR Model"
        }
    },
    "27": {
        "inputs": {
            "steps": 1,
            "cfg": 1,
            "shift": 5,
            "seed": 123456789,
            "force_offload": true,
            "scheduler": "euler",
            "riflex_freq_index": 0,
            "denoise_strength": 1,
            "batched_cfg": false,
            "rope_function": "comfy",
            "start_step": 0,
            "end_step": -1,
            "add_noise_to_samples": false,
            "model": [
                "22",
                0
            ],
            "image_embeds": [
                "114",
                0
            ],
            "text_embeds": [
                "104",
                0
            ]
        },
        "class_type": "WanVideoSampler",
        "_meta": {
            "title": "FlashVSR Sampler (1 Step)"
        }
    },
    "30": {
        "inputs": {
            "frame_rate": 16,
            "loop_count": 0,
            "filename_prefix": "CMF_Upscale",
            "format": "video/h264-mp4",
            "pix_fmt": "yuv420p",
            "crf": 19,
            "save_metadata": true,
            "trim_to_audio": false,
            "pingpong": false,
            "save_output": true,
            "no_preview": false,
            "images": [
                "117",
                0
            ]
        },
        "class_type": "VHS_VideoCombine",
        "_meta": {
            "title": "Video Combine Output"
        }
    },
    "78": {
        "inputs": {
            "width": [
                "116",
                1
            ],
            "height": [
                "116",
                2
            ],
            "num_frames": [
                "123",
                1
            ]
        },
        "class_type": "WanVideoEmptyEmbeds",
        "_meta": {
            "title": "Empty Embeds"
        }
    },
    "104": {
        "inputs": {
            "positive_prompt": "high quality, sharp, detailed",
            "negative_prompt": "blur, low quality, noise, grain, artifacts",
            "force_offload": true,
            "use_disk_cache": true,
            "device": "gpu",
            "t5": [
                "11",
                0
            ],
            "model_to_offload": [
                "22",
                0
            ]
        },
        "class_type": "WanVideoTextEncode",
        "_meta": {
            "title": "Prompt Encoding"
        }
    },
    "113": {
        "inputs": {
            "extra_model": "FlashVSR/Wan2_1_FlashVSR_PQ_proj_model_bf16.safetensors"
        },
        "class_type": "WanVideoExtraModelSelect",
        "_meta": {
            "title": "Extra Model (PQ Proj)"
        }
    },
    "114": {
        "inputs": {
            "strength": 1,
            "embeds": [
                "78",
                0
            ],
            "images": [
                "116",
                0
            ]
        },
        "class_type": "WanVideoAddFlashVSRInput",
        "_meta": {
            "title": "Add FlashVSR Input"
        }
    },
    "116": {
        "inputs": {
            "width": 768,
            "height": 1536,
            "upscale_method": "lanczos",
            "keep_proportion": "crop",
            "pad_color": "0, 0, 0",
            "crop_position": "center",
            "divisible_by": 16,
            "device": "cpu",
            "image": [
                "123",
                0
            ]
        },
        "class_type": "ImageResizeKJv2",
        "_meta": {
            "title": "Resize to Target (768x1536)"
        }
    },
    "117": {
        "inputs": {
            "inputcount": 2,
            "direction": "right",
            "match_image_size": true,
            "Update inputs": null,
            "image_1": [
                "116",
                0
            ],
            "image_2": [
                "126",
                0
            ]
        },
        "class_type": "ImageConcatMulti",
        "_meta": {
            "title": "Concat Images"
        }
    },
    "119": {
        "inputs": {
            "model_name": "Wan2_1_FlashVSR_TCDecoder_fp32.safetensors",
            "precision": "fp16"
        },
        "class_type": "WanVideoFlashVSRDecoderLoader",
        "_meta": {
            "title": "Load TC Decoder"
        }
    },
    "121": {
        "inputs": {
            "enable_vae_tiling": false,
            "tile_x": 272,
            "tile_y": 272,
            "tile_stride_x": 144,
            "tile_stride_y": 128,
            "normalization": "default",
            "vae": [
                "119",
                0
            ],
            "samples": [
                "27",
                0
            ]
        },
        "class_type": "WanVideoDecode",
        "_meta": {
            "title": "Decode Video"
        }
    },
    "123": {
        "inputs": {
            "video": "placeholder.mp4",
            "force_rate": 0,
            "force_size": "Disabled",
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 0,
            "skip_first_frames": 0,
            "select_every_nth": 1,
            "format": "AnimateDiff"
        },
        "class_type": "VHS_LoadVideo",
        "_meta": {
            "title": "Load Input Video"
        }
    },
    "126": {
        "inputs": {
            "image": [
                "121",
                0
            ]
        },
        "class_type": "GetImageSizeAndCount",
        "_meta": {
            "title": "Get Image count"
        }
    }
}